<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head.ejs') %>

  <body>
    <%- include('./partials/header.ejs') %>

    <div id="app">
      <form @submit.prevent="join()" :hidden="joined">
        <p>Enter team name:</p>
        <input l-model="teamName" />
        <button>Join Team</button>
      </form>

      <div :hidden="!joined">
        <h1 l-text="teamName"></h1>
        <p>Score: <kbd l-text="score || 0">0</kbd></p>
        <p>Ping: <kbd l-text="ping + ' ms'">0 ms</kbd></p>
        <p>Code: <kbd l-text="id"></kbd></p>
        <button @click="buzz()">Buzz</button>
      </div>
    </div>

    <script>
      const id = '<%= id %>';
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.1/socket.io.js"
      integrity="sha512-oFOCo2/3DtjrJG4N27BjSLQWoiBv171sK6a+JiWjp/7agxC2nCUP358AqzxkBUb5jX8g6CYLPdSKQTbC0weCwA=="
      crossorigin="anonymous"
    ></script>
    <script src="/js/lucia.min.js"></script>
    <script src="/js/team.js"></script>
  </body>
</html>
